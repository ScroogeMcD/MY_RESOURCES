## Garbage Collection in Java

### 1. Memory Allocation types

i. **Allocator types** and their corresponding GC tehniques :
 * *Sequential or Bump Allocators* - corresponding garbage collection techniques are :
   * Mark - Compact
   * Copying GC
   * Generational GC
 * *Free List Allocators* - corresponding garbage collection techniques are :
   * Mark and Sweep
   * Reference Count GC
   * Manual Memory Management

ii. **Garbage Collection types**
 * *tracing collectors* : they identify the live objects, and all the remaining objects are considered garbage
   * Mark-Sweep
   * Mark-compact
   * Copying GC
 * *direct collectors*
   * Reference Counting

### 2. Garbage Collectors :

<details>
  <summary> 2.i. Mark - Sweep Collector </summary>
  
   | Feature | Description |
   |---------|-------------|
   | *type* | Tracing : search for live objects - starting from GC roots, everything else is garbage|
   | *phases* |Mark(trace), Sweep(Reclaim); Sweep scans the whole heap unless generational, and returns the memory block to free list|
   | *moving* |No (good for languages exposing pointer semantics like C,C++); objects stay at the same location after GC|
   | *allocator* |free-list (slower); linked list of free blocks of memory, slower allocation|
   | *issues* |Fragmentatio of heap|
</details>  

<details>
  <summary> 2.ii. Mark - Compact Collector </summary>
  
   | Feature | Description |
   |---------|-------------|
   | *type* | Tracing : search for live objects - starting from GC roots, everything else is garbage|
   | *phases* | Mark(trace), Compact(move live objects)|
   | *moving* | yes (can't be used by languages exposing pointer semantics)|
   | *allocator* | sequential("bump allocator", fast)|
   | *issues* | *upto 3 times heap traversal* |

    Compaction Algorithms :
    * Two-finger
    * The lisp 2
      * Compute locations : compute the new locations where the objects will eventually be relocated
      * Update references : for each alive object, fix their child references to point to the new locations
      * Relocate : move alive objects to the new locations recorded in the forwarding addresses
    * Threaded
    * One pass
</details> 

<details>
  <summary>2.iii. Copying collector</summary>
  
    - Splits heap into two areas : **TO** and **FROM**
    - all new memory is allocated in FROM area, using bump allocator
    - once the FROM area gets filled up, GC is trigerred
      - **copy** : evacuate live objects, i.e. move them from FROM to TO area
      - **forward** : add or keep 'forwarding' address in the old objects in FROM space, pointing to corresponding new objets in TO space
      - **fix pointers** : update child pointers
      - **swap** : flip FROM and TO areas in terms of roles. Old FROM becomes new TO and vice versa. New allocation happens in new FROM area.


   | Feature | Description |
   |---------|-------------|
   | *type* | Tracing : search for live objects - starting from GC roots, everything else is garbage. Copying over happens in this tracing phase itself.|
   | *phases* | evacuate (copy), update pointers : copy live objects to new space, abandon garbage in old space|
   | *moving* | yes (can't be used by languages exposing pointer semantics)|
   | *allocator* | sequential("bump allocator", fast)|
   | *issues* | reserves almost half of the heap for GC purposes |
</details>

<details>
  <summary> 2.iv. Reference Counting Collector </summary>
  
  - Objects can be reclaimed right when their reference count goes down to zero.
  - cyclic references cause the reference-count of some objects to never go down to zero, causing memory-leaks.

| Feature | Description |
|---------|-------------|
| *type* | Direct : Identifies garbage directly. Reclaims as long as no references.|
| *phases* | Inc/DecRef(dest/src), free(recursively)|
| *moving* | no (good for languages exposing pointer semantics)|
| *allocator* | Free list (slower)|
| *issues* | can't handle cycles, mutator overhead |
</details>  
 

### 2. Serial Garbage Collector

### 3. Concurrent Mark and Sweep

### 4. G1GC

### 5. Z Garbage Collector

### 6. Shenandoah Garbage Collector
